@{
    ViewData["Title"] = "Sistema Certificados";
}

@section styles{
    <link rel="stylesheet" href="~/css/Dashboard.css">

}
<nav class="sidebar" style="height: 100vh;">
    <div class="logo-container text-center">
        <img src="~/img/logughorizontal.png" alt="Logo UG" class="logo">
    </div>

    <ul class="nav flex-column mt-4">
        <li onclick="cargarDatosDashboard()" class="nav-item modulo-inicio"><a class="nav-link text-white" href="#" id="link-roles" data-view="Inicio"><i class="bi  bi-house"></i> Home</a></li>

        <li class="nav-item mt-3">
            <a class="nav-link text-white" onclick="toggleCollapse('submenu1')">
                <i class="bi bi-wrench modulo-mantenimiento"></i> Mantenimiento <i class="bi bi-caret-down-fill arrow"></i>
            </a>
            <div class="submenu" id="submenu1" style="display: none;">
                <ul class="nav flex-column ms-3">
                    <li onclick="cargarDatosRoles()" class="nav-item"><a class="nav-link text-white" href="#" id="link-roles" data-view="Roles"><i class="bi bi-shield-lock"></i> Roles</a></li>
                    <li onclick="cargarDatospersonas()" class="nav-item"><a class="nav-link text-white" href="#" id="link-personas" data-view="Personas"><i class="bi bi-people"></i> Usuarios</a></li>
                    <li onclick="cargarDatosGrupos()" class="nav-item"><a class="nav-link text-white" href="#" id="link-grupo" data-view="Grupo"><i class="bi bi-person-lines-fill"></i> Grupo</a></li>
                    @* <li onclick="cargarDatosDocentes()" class="nav-item"><a class="nav-link text-white" href="#" id="link-docente" data-view="Docente"><i class="bi bi-person-workspace"></i> Docentes</a></li> *@
                    <li onclick="cargarDatosDecanatos()" class="nav-item"><a class="nav-link text-white" href="#" id="link-decanato" data-view="Decanato"><i class="bi bi-diagram-3"></i> Decanatos</a></li>
                    <li onclick="cargarDatosEventos()" class="nav-item"><a class="nav-link text-white" href="#" id="link-evento" data-view="Eventos"><i class="bi bi-calendar-event"></i> Eventos</a></li>
                    <li onclick="cargarDatosModalidades()" class="nav-item"><a class="nav-link text-white" href="#" id="link-modalidad" data-view="Modalidad"><i class="bi bi-layout-text-sidebar"></i> Modalidad</a></li>
                    <li onclick="cargarDatosCiclos()" class="nav-item"><a class="nav-link text-white" href="#" id="link-ciclo" data-view="Ciclo"><i class="bi bi-circle-half"></i> Ciclo</a></li>
                </ul>
            </div>
        </li>

        <li onclick="cargarDatosPlanificacion()" class=" nav-item">
            <a class="nav-link  text-white" href="#" id="link-facilitador" data-view="Planificacion">
                <i class="bi bi-calendar-check modulo-planificacion"></i> Planificación
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link  text-white" onclick="toggleCollapse('submenu6')">
                <i class="bi bi-person-video2 modulo-facilitador"></i> Facilitador <i class="bi bi-caret-down-fill arrow"></i>
            </a>
            <div class="submenu" id="submenu6" style="display: none;">
                <ul class="nav flex-column ms-3">
                    @*<li onclick="cargarFacilitador()" class="nav-item"><a class="nav-link text-white" href="#" id="link-registrarfacilitador" data-view="VerFacilitador"><i class="bi bi-calendar-event"></i> Ver</a></li>*@
                    <li onclick="cargarDatosCertificadosEmicion()" class="nav-item"><a class="nav-link text-white" href="#" id="link-aprobarparticipante" data-view="AprobarParticipantes"><i class="bi bi-receipt"></i> Aprobar</a></li>
                </ul>
            </div>
        </li>

        <li class="nav-item">
            <a class="nav-link  text-white" onclick="toggleCollapse('submenu7')">
                <i class="bi bi-file-earmark-bar-graph  modulo-actas"></i>Actas <i class="bi bi-caret-down-fill arrow"></i>
            </a>
            <div class="submenu" id="submenu7" style="display: none;">
                <ul class="nav flex-column ms-3">
                    <li onclick="inciarDatosActaAsistencia()" class="nav-item"><a class="nav-link text-white" href="#" id="link-actasAsistencia" data-view="ActasAsistencia"><i class="bi bi-list-check"></i>Asistencia </a></li>
                    <li onclick="inciarDatosActaCalificacion()" class="nav-item"><a class="nav-link text-white" href="#" id="link-actasCalificacion" data-view="ActasCalificacion"><i class="bi bi-bar-chart"></i>Calificación</a></li>
                </ul>
            </div>
        </li>

        <li class="nav-item">
            <a class="nav-link  text-white" onclick="toggleCollapse('submenu8')">
                <i class="bi bi-clipboard-check  modulo-certificacion"></i>Certificación <i class="bi bi-caret-down-fill arrow"></i>
            </a>
            <div class="submenu" id="submenu8" style="display: none;">
                <ul class="nav flex-column ms-3">
                    <li onclick="cargarDatosFormatos()" class="nav-item"><a class="nav-link text-white" href="#" id="link-formatos" data-view="Formatos"><i class="bi bi-file-earmark-plus-fill"></i> Crear Plantilla</a></li>
                    <li onclick="cargarDatosGenerarCertificados()" class="nav-item"><a class="nav-link text-white" href="#" id="link-generarcertificados" data-view="GenerarCertificado"><i class="bi bi-card-checklist"></i> Generar Certificado</a></li>
                </ul>
            </div>
        </li>

        <li class="nav-item">
            <a class="nav-link  text-white" onclick="toggleCollapse('submenu9')">
                <i class="bi bi-bar-chart-line-fill  modulo-certificacion"></i>Reportes <i class="bi bi-caret-down-fill arrow"></i>
            </a>
            <div class="submenu" id="submenu9" style="display: none;">
                <ul class="nav flex-column ms-3">
                    <li onclick="cargarDatosCertificados()" class="nav-item"><a class="nav-link text-white" href="#" id="link-formatos" data-view="VerCertificados"><i class="bi bi-file-earmark-medical-fill"></i>Certificados</a></li>
                    <li onclick="CargarEstadistica()" class="nav-item"><a class="nav-link text-white" href="#" id="link-estadistica" data-view="Estadistica"><i class="bi bi-graph-up-arrow"></i>Estadísticas</a></li>
                </ul>
            </div>
        </li>

        <li class="nav-item">
            <a class="nav-link  text-white" href="@Url.Page("/Dashboard")">
                <i class="bi bi-search modulo-consultas"></i>
                <span>Consultas</span>
            </a>
        </li>
    </ul>
</nav>

<!-- Header -->
<header class="main-header">
    <div class="container-fluid h-100">
        <div class="row h-100 align-items-center">
            <div class="col">
                <h4 class="mb-0">Dashboard de Administración</h4>
                <small class="text-muted">Sistema de Certificación</small>
            </div>
            <div class="col-auto">
                <div class="user-menu dropdown">
                    <button id="dropdownUser" class="btn dropdown-toggle d-flex align-items-center" type="button" data-bs-toggle="dropdown" >
                        <div id="userInitial" class="me-2"></div>
                        <span id="userLog" class="me-2"></span>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end shadow-sm   submenu" id="submenu9">
                        <li onclick="cargarDatosPerfil()" class="nav-item logOutSesion"><a class="nav-link text-dark" href="#" id="link-perfil" data-view="MiPerfil"><i class="bi bi-person me-2"></i>Perfil</a></li>
                        <li onclick="cargarDatosConfiguracion()" class="nav-item logOutSesion mt-2 "><a class="nav-link text-dark" href="#" id="link-configuracion" data-view="Configuracion"><i class="bi bi-gear me-2"></i>Configuración</a></li>

                        <li><hr class="dropdown-divider mt-2"></li>
                        <li style="cursor: pointer;" data-bs-toggle="modal" data-bs-target="#logOutModal"><a class="dropdown-item"><i class="bi bi-box-arrow-right me-2"></i>Cerrar sesión</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Modal logOut -->
<dialog class="modal fade" id="logOutModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">Aviso</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <center>
                    ¿Estas seguro de cerrar sesión?
                </center>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" onclick="logOut()">Cerrar Sesión</button>
            </div>
        </div>
    </div>
</dialog>


<!-- Main Content (Workspace) -->
<main class="main-content fade-in">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-9 col-11 dynamic-content p-4" id="dynamic-content">
                <!-- Your dynamic content goes here -->
            </div>
        </div>
    </div>
</main>

@section Scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.min.js"></script>
    <script src="~/js/Utils.js" asp-append-version="true"></script>
    <script src="~/js/dashboard.js" asp-append-version="true"></script>
    <script src="~/js/roles.js" asp-append-version="true"></script>
    <script src="~/js/personas.js" asp-append-version="true"></script>
    <script src="~/js/grupo.js" asp-append-version="true"></script>
    <script src="~/js/emitirCertificado.js" asp-append-version="true"></script>
    @* <script src="~/js/docente.js" asp-append-version="true"></script> *@
    <script src="~/js/modalidad.js" asp-append-version="true"></script>
    <script src="~/js/decanato.js" asp-append-version="true"></script>
    <script src="~/js/eventos.js" asp-append-version="true"></script>
    <script src="~/js/ciclo.js" asp-append-version="true"></script>
    <script src="~/js/planificacion.js" asp-append-version="true"></script>
    <script src="~/js/actaAsistencia.js" asp-append-version="true"></script>
    <script src="~/js/actaCalificacion.js" asp-append-version="true"></script>
    <script src="~/js/perfil.js" asp-append-version="true"></script>
    <script src="~/js/Config.js" asp-append-version="true"></script>
    @* <script src="~/js/verFacilitador.js" asp-append-version="true"></script> *@
    @* <script src="~/js/Facilitador.js" asp-append-version="true"></script> *@
    <script src="~/js/certificados.js" asp-append-version="true"></script>
    <script src="~/js/formatocertificado.js" asp-append-version="true"></script>
    <script src="~/js/Home.js" asp-append-version="true"></script>
    <script src="~/js/generarcertificado.js" asp-append-version="true"></script>
    <script src="~/js/Estadisticas.js" asp-append-version="true"></script>
}